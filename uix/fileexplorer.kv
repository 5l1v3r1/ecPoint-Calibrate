#:kivy 1.1.0
#:import hex kivy.utils.get_color_from_hex


<DataLoaderButton@Button>:
    size_hint: None, None
    size: 100, 100
    background_color: hex('#60a3bc')



Root:
    size_hint: 1, 1
    BoxLayout:
        canvas.before:
            Color:
                rgba: hex('#0fb9b1')
            Rectangle:
                pos: self.pos
                size: self.size

        size_hint: 1, 1
        pos: self.parent.pos  # important!
        orientation: 'vertical'

        BoxLayout:
            size_hint: None, None
            size: 300, 300
            padding: 20
            spacing: 20
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            DataLoaderButton:
                text: 'GRIB'
                on_release: root.show_load(self.text, 'forecast')

            DataLoaderButton:
                text: 'NetCDF'
                on_release: root.show_load(self.text, 'forecast')

        Label:
            text_size: cm(6), cm(4)
            text: root.forecast_file

        Widget:
            id: separator
            size_hint_y: None
            height: 6
            canvas:
                Color:
                    rgba: hex('#0c2461')
                Rectangle:
                    pos: 0, separator.center_y
                    size: separator.width, 2

        BoxLayout:
            size_hint: None, None
            size: 300, 300
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            padding: 20
            spacing: 20
            DataLoaderButton:
                text: 'Geopoint'
                on_release: root.show_load(self.text, 'observation')

            DataLoaderButton:
                text: 'CSV'
                on_release: root.show_load(self.text, 'observation')

        Label:
            text_size: cm(6), cm(4)
            text: root.observation_file




<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            filters: [root.filter_files]

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection, root.kind)
